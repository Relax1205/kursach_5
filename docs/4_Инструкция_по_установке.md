# 4. Инструкция по сборке и установке программы

## 4.1. Подготовка окружения

1. Убедитесь, что на компьютере установлен Python версии 3.8 или выше. Проверить версию можно командой:

```bash
python --version
```

2. Рекомендуется использовать виртуальное окружение для изоляции зависимостей проекта. Создайте его в папке проекта командой:

```bash
   python -m venv venv
```

3. Активируйте виртуальное окружение:
   - В Windows:
   - 
```bash
    venv\Scripts\activate
```

   - В Linux/macOS:

```bash
    source venv/bin/activate
```


## 4.2. Установка зависимостей

1. Перейдите в корневую папку проекта (где расположен файл manage.py).

2. Установите необходимые пакеты из файла requirements.txt:

```bash
   pip install -r requirements.txt
```

   В файле requirements.txt должны быть указаны следующие зависимости:
```txt
   Django>=4.2,<5.3
   python-dateutil>=2.8
```

## 4.3. Инициализация базы данных

1. Выполните миграции для создания структуры базы данных:

```bash
   python manage.py migrate
```

   Эта команда создаст файл db.sqlite3 в корневой папке проекта и применит все необходимые изменения схемы.

2. При первом запуске также рекомендуется создать суперпользователя для доступа к административной панели и начальной настройки:

```bash
   python manage.py createsuperuser
```

   Следуйте инструкциям в терминале: укажите имя пользователя, адрес электронной почты (можно оставить пустым) и пароль.

## 4.4. Запуск приложения

1. Запустите встроенный веб-сервер разработки Django:

```bash
   python manage.py runserver
```

2. По умолчанию сервер будет доступен по адресу:
   http://127.0.0.1:8000/

3. Для входа в систему перейдите на страницу:
   http://127.0.0.1:8000/accounts/login/

   Используйте учётные данные, созданные при выполнении команды createsuperuser.

## 4.5. Структура проекта

Убедитесь, что проект содержит следующие ключевые файлы и папки:

- manage.py — точка входа для команд Django
- personal_finance/ — папка с настройками проекта (settings.py, urls.py)
- core/ — основное приложение с моделями, представлениями, формами и шаблонами
- core/templates/core/ — HTML-шаблоны интерфейса
- core/templates/registration/ — шаблоны аутентификации (login.html, logged_out.html)
- static/ — статические файлы (CSS, JS)
- requirements.txt — список зависимостей
- db.sqlite3 — файл локальной базы данных (создаётся автоматически после migrate)

## 4.6. Возможные проблемы и решения

- Если при запуске возникает ошибка ModuleNotFoundError, убедитесь, что вы находитесь в корневой папке проекта (где лежит manage.py) и что виртуальное окружение активировано.
- Если не отображаются стили интерфейса, проверьте подключение к интернету (Bootstrap и Chart.js загружаются из CDN).
- Если после входа происходит перенаправление на несуществующую страницу /accounts/profile/, убедитесь, что в файле personal_finance/settings.py задано:
   LOGIN_REDIRECT_URL = '/'

После выполнения всех шагов программа готова к использованию.